(this["webpackJsonpdapp-scaffold"]=this["webpackJsonpdapp-scaffold"]||[]).push([[0],{111:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(12),a=new r.d("So11111111111111111111111111111111111111112"),o=new r.d("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),i=(new r.d("TokenLending1111111111111111111111111111111"),new r.d("SwaPpA9LAaLfeLi3a68M4DjnLqgtticKg6CnyNwgAC8"),[{name:"mainnet-beta"},{name:"testnet"},{name:"devnet"},{name:"localnet"}]),c=function(e){i.find((function(t){return t.name===e}))},u=function(){return{token:o}}},214:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(32),a=n(22),o=n(78),i=function e(t,n,r){Object(a.a)(this,e),this.id=void 0,this.parser=void 0,this.isNew=void 0,this.id=t,this.parser=r,this.isNew=n};i.type="CacheUpdate";var c=function e(t){Object(a.a)(this,e),this.id=void 0,this.id=t};c.type="CacheUpdate";var u=function e(t){Object(a.a)(this,e),this.ids=void 0,this.ids=t};u.type="MarketUpdate";var s=function e(){Object(a.a)(this,e)};s.type="CacheDelete";var l=function(){function e(){Object(a.a)(this,e),this.emitter=new o.EventEmitter}return Object(r.a)(e,[{key:"onMarket",value:function(e){var t=this;return this.emitter.on(u.type,e),function(){return t.emitter.removeListener(u.type,e)}}},{key:"onCache",value:function(e){var t=this;return this.emitter.on(i.type,e),function(){return t.emitter.removeListener(i.type,e)}}},{key:"raiseMarketUpdated",value:function(e){this.emitter.emit(u.type,new u(e))}},{key:"raiseCacheUpdated",value:function(e,t,n){this.emitter.emit(i.type,new i(e,t,n))}},{key:"raiseCacheDeleted",value:function(e){this.emitter.emit(c.type,new c(e))}},{key:"raiseCacheCleared",value:function(){this.emitter.emit(s.type,new s)}}]),e}()},247:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return b}));var r=n(2),a=n.n(r),o=n(9),i=n(12);function c(e,t,n,r){return u.apply(this,arguments)}function u(){return(u=Object(o.a)(a.a.mark((function e(t,n,r,o){var i,c,u,s,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=0,c=0,!(o.length>255)){e.next=15;break}case 3:if(!(o.length-c>255)){e.next=15;break}return u=o.slice(c,c+255),c+=255,console.log("send",(2|i).toString(16),u.length.toString(16),u),e.next=9,t.send(224,n,r,2|i,u);case 9:if(2===e.sent.length){e.next=12;break}throw new Error("Received unexpected reply payload");case 12:i|=1,e.next=3;break;case 15:return s=o.slice(c),console.log("send",i.toString(16),s.length.toString(16),s),e.next=19,t.send(224,n,r,i,s);case 19:return l=e.sent,e.abrupt("return",l.slice(0,l.length-2));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(e|1<<31>>>0)>>>0}function l(t,n){var r;r=void 0!==t?void 0!==n?4:3:2;var a=e.alloc(1+4*r),o=0;return o=a.writeUInt8(r,o),o=a.writeUInt32BE(s(44),o),o=a.writeUInt32BE(s(501),o),r>2&&(o=a.writeUInt32BE(s(t),o),4===r&&(o=a.writeUInt32BE(s(n),o))),a}function d(e,t){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(a.a.mark((function e(t,n){var r,o,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:l(),o=n.serializeMessage(),e.abrupt("return",m(t,o,r));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){return p.apply(this,arguments)}function p(){return(p=Object(o.a)(a.a.mark((function t(n,r){var o,i,u,s=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=s.length>2&&void 0!==s[2]?s[2]:l(),(i=e.alloc(1)).writeUInt8(1,0),u=e.concat([i,o,r]),t.abrupt("return",c(n,6,1,u));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(a.a.mark((function e(t){var n,r,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:l(),e.next=3,c(t,5,0,n);case 3:return r=e.sent,e.abrupt("return",new i.d(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,n(14).Buffer)},253:function(e,t,n){},28:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return A})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return I})),n.d(t,"f",(function(){return j})),n.d(t,"a",(function(){return N})),n.d(t,"h",(function(){return B})),n.d(t,"e",(function(){return C})),n.d(t,"g",(function(){return M}));var r=n(147),a=n(27),o=n(24),i=n(2),c=n.n(i),u=n(9),s=n(26),l=n(0),d=n.n(l),f=n(52),m=n(63),p=n(12),b=n(84),v=n(48),h=n(214),O=(n(94),n(111)),g=d.a.createContext(null),E=new Map,y=new Map,w=new Map,A=function(t,n){var r=e.from(n.data),a=x(r);return{pubkey:t,account:Object(s.a)({},n),info:a}},T=function(t,n){var r=e.from(n.data),a=R(r);return{pubkey:t,account:Object(s.a)({},n),info:a}},_=new Map,I={emitter:new h.a,query:function(){var e=Object(u.a)(c.a.mark((function e(t,n,r){var a,o,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="string"===typeof n?new p.d(n):n,o=a.toBase58(),!(i=y.get(o))){e.next=5;break}return e.abrupt("return",i);case 5:if(!(u=E.get(o))){e.next=8;break}return e.abrupt("return",u);case 8:return u=t.getAccountInfo(a).then((function(e){if(!e)throw new Error("Account not found");return I.add(a,e,r)})),E.set(o,u),e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),add:function(e,t,n){if(0!==t.data.length){var r="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58(),a=n||_.get(r);if(!a)throw new Error("Deserializer needs to be registered or passed as a parameter");I.registerParser(e,a),E.delete(r);var o=a(new p.d(r),t);if(o){var i=!y.has(r);return y.set(r,o),I.emitter.raiseCacheUpdated(r,i,a),o}}},get:function(e){var t;return t="string"!==typeof e?e.toBase58():e,y.get(t)},delete:function(e){var t;return t="string"!==typeof e?e.toBase58():e,!!y.get(t)&&(y.delete(t),I.emitter.raiseCacheDeleted(t),!0)},byParser:function(e){var t,n=[],r=Object(o.a)(_.keys());try{for(r.s();!(t=r.n()).done;){var a=t.value;_.get(a)===e&&n.push(a)}}catch(i){r.e(i)}finally{r.f()}return n},registerParser:function(e,t){if(e){var n="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58();_.set(n,t)}return e},addTransaction:function(e,t){return w.set(e,t),t},addBulkTransactions:function(e){var t,n=Object(o.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;w.set(r.signature.signature,r)}}catch(a){n.e(a)}finally{n.f()}return e},getTransaction:function(e){return w.get(e)},getAllTransactions:function(){return w},clear:function(){y.clear(),w.clear(),I.emitter.raiseCacheCleared()}},j=function(){return Object(l.useContext)(g)};var k=function(){var e=Object(f.c)(),t=Object(m.b)(),n=t.wallet,r=t.publicKey,o=Object(l.useState)(),i=Object(a.a)(o,2),c=i[0],u=i[1],s=Object(l.useCallback)((function(t){if(e&&r){var n=function(e,t){if(t)return{pubkey:e,account:t,info:{address:e,mint:O.a,owner:e,amount:new b.c(t.lamports),delegate:null,delegatedAmount:new b.c(0),isInitialized:!0,isFrozen:!1,isNative:!0,rentExemptReserve:null,closeAuthority:null}}}(r,t);if(void 0!==n){var a=r.toBase58();I.registerParser(a,T),y.set(a,n),I.emitter.raiseCacheUpdated(a,!1,T)}}}),[r,e]);return Object(l.useEffect)((function(){e&&r&&(e.getAccountInfo(r).then((function(e){e&&(s(e),u(e))})),e.onAccountChange(r,(function(e){e&&(s(e),u(e))})))}),[u,n,r,e,s]),{nativeAccount:c}},S=new Set,L=function(){var e=Object(u.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return S.add(n.toBase58()),e.next=5,t.getTokenAccountsByOwner(n,{programId:Object(O.b)().token});case 5:e.sent.value.forEach((function(e){I.add(e.pubkey.toBase58(),e.account,T)}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function N(e){var t=e.children,n=void 0===t?null:t,r=Object(f.c)(),o=Object(m.b)(),i=o.publicKey,c=o.wallet,u=o.connected,s=Object(l.useState)([]),v=Object(a.a)(s,2),h=v[0],E=v[1],y=Object(l.useState)([]),w=Object(a.a)(y,2),A=w[0],_=w[1],j=k().nativeAccount,N=Object(l.useCallback)((function(){if(!i)return[];var e=i.toBase58();return I.byParser(T).map((function(e){return I.get(e)})).filter((function(t){return t&&t.info.owner.toBase58()===e})).map((function(e){return e}))}),[i]);return Object(l.useEffect)((function(){var e=N().filter((function(e){return void 0!==e}));_(e)}),[j,c,h,N]),Object(l.useEffect)((function(){var e=[];return I.emitter.onCache((function(e){if(e.isNew){var t=e.id,n=e.parser;r.onAccountChange(new p.d(t),(function(e){I.add(t,e,n)}))}})),function(){e.forEach((function(e){return r.removeAccountChangeListener(e)}))}}),[r]),Object(l.useEffect)((function(){if(r&&i){L(r,i).then((function(){E(N())}));var e=r.onProgramAccountChange(Object(O.b)().token,(function(e){var t=e.accountId;if(e.accountInfo.data.length===b.a.span){var n=R(e.accountInfo.data);S.has(n.owner.toBase58())&&(I.add(t,e.accountInfo,T),E(N()))}}),"singleGossip");return function(){r.removeProgramAccountChangeListener(e)}}E([])}),[r,u,i,N]),d.a.createElement(g.Provider,{value:{userAccounts:A,nativeAccount:j}},n)}function B(){return{account:Object(l.useContext)(g).nativeAccount}}var C=function(){var t=Object(u.a)(c.a.mark((function t(n,a,o){var i,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(Object(v.b)(a,99).map((function(e){return D(n,e,o)})));case 2:return i=t.sent,u=i.map((function(t){return t.array.map((function(t){if(t){var n=t.data,a=Object(r.a)(t,["data"]);return Object(s.a)(Object(s.a)({},a),{},{data:e.from(n[0],"base64")})}})).filter((function(e){return e}))})).flat(),t.abrupt("return",{keys:a,array:u});case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(c.a.mark((function e(t,n,r){var a,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t._buildArgs([n],r,"base64"),e.next=3,t._rpcRequest("getMultipleAccounts",a);case 3:if(!(o=e.sent).error){e.next=6;break}throw new Error("failed to get info about account "+o.error.message);case 6:if(!o.result.value){e.next=9;break}return i=o.result.value,e.abrupt("return",{keys:n,array:i});case 9:throw new Error;case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function M(e){var t=Object(f.c)(),n=Object(l.useState)(),r=Object(a.a)(n,2),o=r[0],i=r[1],c="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58();return Object(l.useEffect)((function(){if(c){I.query(t,c,A).then((function(e){return i(e.info)})).catch((function(e){return console.log(e)}));var e=I.emitter.onCache((function(e){e.id===c&&I.query(t,c,A).then((function(e){return i(e.info)}))}));return function(){e()}}}),[t,c]),o}var R=function(e){var t=b.a.decode(e);return t.mint=new p.d(t.mint),t.owner=new p.d(t.owner),t.amount=b.c.fromBuffer(t.amount),0===t.delegateOption?(t.delegate=null,t.delegatedAmount=new b.c(0)):(t.delegate=new p.d(t.delegate),t.delegatedAmount=b.c.fromBuffer(t.delegatedAmount)),t.isInitialized=0!==t.state,t.isFrozen=2===t.state,1===t.isNativeOption?(t.rentExemptReserve=b.c.fromBuffer(t.isNative),t.isNative=!0):(t.rentExemptReserve=null,t.isNative=!1),0===t.closeAuthorityOption?t.closeAuthority=null:t.closeAuthority=new p.d(t.closeAuthority),t},x=function(e){if(e.length!==b.b.span)throw new Error("Not a valid Mint");var t=b.b.decode(e);return 0===t.mintAuthorityOption?t.mintAuthority=null:t.mintAuthority=new p.d(t.mintAuthority),t.supply=b.c.fromBuffer(t.supply),t.isInitialized=0!==t.isInitialized,0===t.freezeAuthorityOption?t.freezeAuthority=null:t.freezeAuthority=new p.d(t.freezeAuthority),t}}).call(this,n(14).Buffer)},340:function(e,t,n){e.exports=n(604)},345:function(e,t,n){},346:function(e,t){},349:function(e,t){},369:function(e,t){},370:function(e,t){},430:function(e,t){},466:function(e,t){},474:function(e,t){},476:function(e,t){},48:function(e,t,n){"use strict";n.d(t,"i",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return v}));n(24);var r=n(27),a=n(0),o=n(60),i=n.n(o);n(68),new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:8});function c(e,t){var n=Object(a.useState)((function(){var n=localStorage.getItem(e);return n?JSON.parse(n):t})),o=Object(r.a)(n,2),i=o[0],c=o[1],u=Object(a.useCallback)((function(t){i!==t&&(c(t),null===t?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)))}),[i,e]);return[i,u]}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return"".concat(e.slice(0,t),"...").concat(e.slice(-t))}function s(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a="string"===typeof t?t:null===t||void 0===t?void 0:t.toBase58();if(!a)return"N/A";var o=null===(n=e.get(a))||void 0===n?void 0:n.symbol;return o||(r?"".concat(a.substring(0,5),"..."):a)}function l(e,t){var n,r="string"===typeof t?t:null===t||void 0===t?void 0:t.toBase58();if(r)return null===(n=e.get(r))||void 0===n?void 0:n.logoURI}var d=new Set(["USDC","wUSDC","USDT"]);function f(e,t){return Array.apply(0,new Array(Math.ceil(e.length/t))).map((function(n,r){return e.slice(r*t,(r+1)*t)}))}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e)return 0;var r=Math.floor("number"===typeof e?e:i.a.isBN(e)?e.toNumber():e.info.amount.toNumber()),a=Math.pow(10,(null===t||void 0===t?void 0:t.decimals)||0);return r/a*n}var p=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),b=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),v={format:function(e,t){return e?t&&function(e){return e<.001&&e>0}(e)?.001:b.format(e):"--"}};new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:9}),new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2})},508:function(e,t,n){},52:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return E}));var r=n(2),a=n.n(r),o=n(30),i=n(9),c=n(27),u=n(48),s=n(12),l=n(0),d=n.n(l),f=(n(89),n(608),n(111)),m=n(28),p=n(128),b=[{name:"mainnet-beta-solana",endpoint:"https://api.mainnet-beta.solana.com/",chainID:p.a.MainnetBeta},{name:"mainnet-beta",endpoint:"https://solana-api.projectserum.com/",chainID:p.a.MainnetBeta},{name:"testnet",endpoint:Object(s.i)("testnet"),chainID:p.a.Testnet},{name:"devnet",endpoint:Object(s.i)("devnet"),chainID:p.a.Devnet},{name:"localnet",endpoint:"http://127.0.0.1:8899",chainID:p.a.Devnet}],v=b[0].endpoint,h=d.a.createContext({endpoint:v,setEndpoint:function(){},slippage:.25,setSlippage:function(e){},connection:new s.b(v,"recent"),sendConnection:new s.b(v,"recent"),env:b[0].name,tokens:[],tokenMap:new Map});function O(e){var t=e.children,n=void 0===t?void 0:t,r=Object(u.i)("connectionEndpts",b[0].endpoint),v=Object(c.a)(r,2),O=v[0],g=v[1],E=Object(u.i)("slippage",.25.toString()),y=Object(c.a)(E,2),w=y[0],A=y[1],T=Object(l.useMemo)((function(){return new s.b(O,"recent")}),[O]),_=Object(l.useMemo)((function(){return new s.b(O,"recent")}),[O]),I=b.find((function(e){return e.endpoint===O}))||b[0],j=I.name,k=Object(l.useState)([]),S=Object(c.a)(k,2),L=S[0],N=S[1],B=Object(l.useState)(new Map),C=Object(c.a)(B,2),D=C[0],M=C[1];return Object(l.useEffect)((function(){m.d.clear(),Object(i.a)(a.a.mark((function e(){var t,n,r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new p.b).resolve();case 2:return t=e.sent,n=t.filterByChainId(I.chainID).excludeByTag("nft").getList(),r=n.reduce((function(e,t){return e.set(t.address,t),e}),new Map),e.next=7,Object(m.e)(T,Object(o.a)(r.keys()),"single");case 7:(i=e.sent).keys.forEach((function(e,t){var n=i.array[t];n&&m.d.add(new s.d(e),n,m.b)})),M(r),N(n);case 11:case"end":return e.stop()}}),e)})))()}),[T,I]),Object(f.c)(j),Object(l.useEffect)((function(){var e=T.onAccountChange((new s.a).publicKey,(function(){}));return function(){T.removeAccountChangeListener(e)}}),[T]),Object(l.useEffect)((function(){var e=T.onSlotChange((function(){return null}));return function(){T.removeSlotChangeListener(e)}}),[T]),Object(l.useEffect)((function(){var e=_.onAccountChange((new s.a).publicKey,(function(){}));return function(){_.removeAccountChangeListener(e)}}),[_]),Object(l.useEffect)((function(){var e=_.onSlotChange((function(){return null}));return function(){_.removeSlotChangeListener(e)}}),[_]),d.a.createElement(h.Provider,{value:{endpoint:O,setEndpoint:g,slippage:parseFloat(w),setSlippage:function(e){return A(e.toString())},connection:T,sendConnection:_,tokens:L,tokenMap:D,env:j}},n)}function g(){return Object(l.useContext)(h).connection}function E(){var e=Object(l.useContext)(h);return{endpoint:e.endpoint,setEndpoint:e.setEndpoint,env:e.env,tokens:e.tokens,tokenMap:e.tokenMap}}},604:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(44),i=n.n(o),c=(n(345),n(253),n(144)),u=n(56),s=n(63),l=n(52),d=n(28),f=n(2),m=n.n(f),p=n(9),b=n(30),v=n(27),h={},O=n(48),g=n(91),E=n(12),y=n(214),w=n(26),A=function(e,t){var n=g.Orderbook.LAYOUT.decode(t.data);return{pubkey:e,account:Object(w.a)({},t),info:n}},T=new E.d("EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"),_=function(e,t){var n=g.MARKETS.find((function(t){return t.address.equals(e)})),r=g.Market.getLayout((null===n||void 0===n?void 0:n.programId)||T).decode(t.data),a={pubkey:e,account:Object(w.a)({},t),info:r};return d.d.registerParser(a.info.baseMint,d.b),d.d.registerParser(a.info.quoteMint,d.b),d.d.registerParser(a.info.bids,A),d.d.registerParser(a.info.asks,A),a},I=n(94);function j(e,t){var n=Object(r.useMemo)((function(){return"string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58()}),[e]),a=Object(I.a)().userAccounts,o=Object(r.useState)(0),i=Object(v.a)(o,2),c=i[0],u=i[1],s=N(),l=s.marketEmitter,f=s.midPriceInUSD,m=Object(d.g)(n),p=Object(r.useMemo)((function(){return a.filter((function(e){return n===e.info.mint.toBase58()&&(!t||t.equals(e.pubkey))})).sort((function(e,t){return t.info.amount.sub(e.info.amount).toNumber()}))}),[a,n,t]),b=Object(r.useMemo)((function(){return p.reduce((function(e,t){return e+t.info.amount.toNumber()}),0)}),[p]),h=Object(r.useMemo)((function(){return Object(O.e)(b,m)}),[m,b]);return Object(r.useEffect)((function(){var e=function(){u(h*f(n||""))},t=l.onMarket((function(t){e()}));return e(),function(){t()}}),[h,f,l,n,u]),{balance:h,balanceLamports:b,balanceInUSD:c,accounts:p,hasBalance:p.length>0&&h>0}}var k=a.a.createContext(null),S=new y.a;function L(e){var t=e.children,n=void 0===t?null:t,o=Object(l.d)().endpoint,i=Object(r.useMemo)((function(){return new Map}),[]),c=Object(r.useState)([]),u=Object(v.a)(c,2),s=u[0],f=u[1],O=Object(I.a)().userAccounts,y=Object(r.useMemo)((function(){return new E.b(o,"recent")}),[o]),w=Object(r.useMemo)((function(){return Object(b.a)(new Set(s).values()).reduce((function(e,t){var n=t,r=g.TOKEN_MINTS.find((function(e){return e.address.toBase58()===n})),a=h[n],o=g.MARKETS.filter((function(e){return!e.deprecated})).find((function(e){return e.name==="".concat(null===r||void 0===r?void 0:r.name,"/USDC")||e.name==="".concat(null===r||void 0===r?void 0:r.name,"/USDT")||e.address.toBase58()===a}));return o&&e.set(n,{marketInfo:o}),e}),new Map)}),[s]);Object(r.useEffect)((function(){var e=0,t=function(){var n=Object(p.a)(m.a.mark((function n(){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C(y,Object(b.a)(i.keys()));case 2:S.raiseMarketUpdated(new Set(Object(b.a)(w.keys()))),e=window.setTimeout((function(){return t()}),3e4);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return function(){var e=Object(p.a)(m.a.mark((function e(){var n,r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Map,Object(b.a)(w.keys()).forEach((function(e){var t=w.get(e);t&&n.set(t.marketInfo.address.toBase58(),e)})),r=Object(b.a)(w.values()).map((function(e){return e.marketInfo.address.toBase58()})),e.next=5,Object(d.e)(y,r.filter((function(e){return void 0===d.d.get(e)})),"single").then((function(e){var t=e.keys,a=e.array;return r.forEach((function(){})),a.map((function(e,r){var a=t[r],o=n.get(a);if(o){var i=w.get(o);if(i){var c=i.marketInfo.address;d.d.add(c,e,_)}}return e}))}));case 5:return a=new Set,r.forEach((function(e){var t=d.d.get(e);if(t){var n=t;d.d.get(n.info.baseMint)||a.add(n.info.baseMint.toBase58()),d.d.get(n.info.baseMint)||a.add(n.info.quoteMint.toBase58()),a.add(n.info.bids.toBase58()),a.add(n.info.asks.toBase58())}})),e.next=9,C(y,Object(b.a)(a.keys()));case 9:S.raiseMarketUpdated(new Set(Object(b.a)(w.keys()))),t();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){window.clearTimeout(e)}}),[w,i,y]);var A=Object(r.useCallback)((function(e){var t;return B(null===(t=w.get(e))||void 0===t?void 0:t.marketInfo.address.toBase58(),e)}),[w]),T=Object(r.useCallback)((function(e){var t=w.get(e),n=d.d.get((null===t||void 0===t?void 0:t.marketInfo.address.toBase58())||"");if(!n)return function(){};var r=n.info.bids.toBase58(),a=n.info.asks.toBase58();return i.set(r,(i.get(r)||0)+1),i.set(a,(i.get(a)||0)+1),function(){i.set(r,(i.get(r)||0)-1),i.set(a,(i.get(a)||0)-1),Object(b.a)(i.keys()).forEach((function(e){(i.get(e)||0)<=0&&i.delete(e)}))}}),[w,i]),j=Object(r.useCallback)((function(e){var t=Object(b.a)(new Set([].concat(Object(b.a)(s),Object(b.a)(e))).values());s.length!==t.length&&f(t)}),[f,s]);return Object(r.useEffect)((function(){j(O.map((function(e){return e.info.mint.toBase58()})))}),[O,j]),a.a.createElement(k.Provider,{value:{midPriceInUSD:A,marketEmitter:S,accountsToObserve:i,marketByMint:w,subscribeToMarket:T,precacheMarkets:j}},n)}var N=function(){return Object(r.useContext)(k)},B=function(e,t){var n,r,a,o,i=g.TOKEN_MINTS.find((function(e){return e.address.toBase58()===t}));if(O.a.has((null===i||void 0===i?void 0:i.name)||""))return 1;if(!e)return 0;var c=d.d.get(e);if(!c)return 0;var u=c.info,s=(null===(n=d.d.get(u.baseMint))||void 0===n?void 0:n.info.decimals)||0,l=(null===(r=d.d.get(u.quoteMint))||void 0===r?void 0:r.info.decimals)||0,f=new g.Market(u,s,l,void 0,u.programId),m=null===(a=d.d.get(u.bids))||void 0===a?void 0:a.info,p=null===(o=d.d.get(u.asks))||void 0===o?void 0:o.info;return m&&p?function(e,t){var n=e.getL2(1),r=t.getL2(1);return n.length>0&&r.length>0?(n[0][0]+r[0][0])/2:0}(new g.Orderbook(f,m.accountFlags,m.slab),new g.Orderbook(f,p.accountFlags,p.slab)):0},C=function(){var e=Object(p.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.abrupt("return",Object(d.e)(t,n,"single").then((function(e){var t=e.keys;return e.array.map((function(e,n){var r=t[n];return d.d.add(new E.d(r),e)}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=n(606),M=n(68),R=n(610),x=n(82),P=n(314),U=n.n(P),F=n(38),K=n.n(F),W=(n(508),function(e){var t,n=e.style,o=e.className,i="string"===typeof e.address?e.address:null===(t=e.address)||void 0===t?void 0:t.toBase58(),c=Object(r.useRef)();return Object(r.useEffect)((function(){i&&c.current&&(c.current.innerHTML="",c.current.className=o||"",c.current.appendChild(U()((null===n||void 0===n?void 0:n.width)||16,parseInt(K.a.decode(i).toString("hex").slice(5,15),16))))}),[i,n,o]),a.a.createElement("div",{className:"identicon-wrapper",ref:c,style:e.style})}),G=function(e){var t=Object(s.b)().wallet,n=Object(d.h)().account;return(null===t||void 0===t?void 0:t.publicKey)?a.a.createElement("div",{className:"wallet-wrapper"},a.a.createElement("span",null,O.c.format(((null===n||void 0===n?void 0:n.lamports)||0)/E.c)," SOL"),a.a.createElement("div",{className:"wallet-key"},Object(O.h)("".concat(t.publicKey)),a.a.createElement(W,{address:t.publicKey.toBase58(),style:{marginLeft:"0.5rem",display:"flex"}}))):null},H=n(613),q=n(171),Y=function(){var e=Object(s.b)(),t=e.connected,n=e.disconnect,r=Object(l.d)(),o=r.endpoint,i=r.setEndpoint;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{display:"grid"}},"Network:"," ",a.a.createElement(q.a,{onSelect:i,value:o,style:{marginBottom:20}},l.b.map((function(e){var t=e.name,n=e.endpoint;return a.a.createElement(q.a.Option,{value:n,key:n},t)}))),t&&a.a.createElement(x.a,{type:"primary",onClick:n},"Disconnect")))},z=n(147),Q=n(127),V=n(217),J=function(e){var t=Object(s.b)(),n=t.connected,r=t.connect,o=t.select,i=t.provider,c=e.onClick,u=(e.children,e.disabled),l=e.allowWalletChange,d=Object(z.a)(e,["onClick","children","disabled","allowWalletChange"]),f=a.a.createElement(Q.a,null,a.a.createElement(Q.a.Item,{key:"3",onClick:o},"Change Wallet"));return i&&l?a.a.createElement(V.a.Button,{onClick:n?c:r,disabled:n&&u,overlay:f},M.a.CONNECT_LABEL):a.a.createElement(x.a,Object.assign({},d,{onClick:n?c:r,disabled:n&&u}),n?e.children:M.a.CONNECT_LABEL)},X=function(e){var t=Object(s.b)().connected;return a.a.createElement("div",{className:"App-Bar-right"},t?a.a.createElement(G,null):a.a.createElement(J,{type:"text",size:"large",allowWalletChange:!0,style:{color:"#2abdd2"}}),a.a.createElement(R.a,{placement:"topRight",title:M.a.SETTINGS_TOOLTIP,content:a.a.createElement(Y,null),trigger:"click"},a.a.createElement(x.a,{shape:"circle",size:"large",type:"text",icon:a.a.createElement(H.a,null)})),e.right)},Z=D.a.Header,$=D.a.Content,ee=a.a.memo((function(e){return a.a.createElement("div",{className:"App wormhole-bg"},a.a.createElement(D.a,{title:M.a.APP_TITLE},a.a.createElement(Z,{className:"App-Bar"},a.a.createElement(c.b,{to:"/"},a.a.createElement("div",{className:"app-title"},a.a.createElement("h2",null,"Solana DAPP"))),a.a.createElement(X,null)),a.a.createElement($,{style:{padding:"0 50px"}},e.children)))})),te=n(611),ne=n(612),re=function(e){var t,n,r=Object(l.d)().tokenMap,o=Object(O.f)(r,e.mintAddress),i=e.size||20;return o?a.a.createElement("img",{alt:"Token icon",className:e.className,key:o,width:(null===(t=e.style)||void 0===t?void 0:t.width)||i.toString(),height:(null===(n=e.style)||void 0===n?void 0:n.height)||i.toString(),src:o,style:Object(w.a)({marginRight:"0.5rem",marginTop:"0.11rem",borderRadius:"10rem",backgroundColor:"white",backgroundClip:"padding-box"},e.style)}):a.a.createElement(W,{address:e.mintAddress,style:Object(w.a)({marginRight:"0.5rem",width:i,height:i,marginTop:2},e.style)})},ae=function(e){return a.a.createElement("div",{className:e.className,style:{display:"flex"}},a.a.createElement(re,{mintAddress:e.mintA,style:Object(w.a)({marginRight:"-0.5rem"},e.style)}),a.a.createElement(re,{mintAddress:e.mintB}))},oe=n(24),ie=n(614),ce=n(615),ue=n(607),se="SwaPpA9LAaLfeLi3a68M4DjnLqgtticKg6CnyNwgAC8",le=new Set([se,"DjVE6JNiYqPL2QXyCUUh8rNjHrbz9hXHNYt99MQ59qw1"]),de=function(){var e=Object(p.a)(m.a.mark((function e(t,n){var r,a,o,i,c,u,s,l,d,f=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=f.length>2&&void 0!==f[2]?f[2]:{},a=[],o=r.limit||20,i=null===r||void 0===r?void 0:r.before,c=0;case 5:if(!(a.length<o)){e.next=23;break}if(!(c>0&&c<50)){e.next=8;break}return e.abrupt("break",23);case 8:return e.next=10,t.getConfirmedSignaturesForAddress2(n,{before:i,limit:50},"confirmed");case 10:if(u=e.sent,0===c&&(c=u.length),0!==u.length){e.next=14;break}return e.abrupt("break",23);case 14:return s=u.map((function(e){return e.signature})),e.next=17,t.getParsedConfirmedTransactions(s,"confirmed");case 17:l=e.sent,d=l.filter((function(e){var t;return!!e&&(!(null===(t=e.meta)||void 0===t?void 0:t.err)&&(!(null===r||void 0===r?void 0:r.programIds)||e.transaction.message.instructions.some((function(e){return r.programIds.has(e.programId.toBase58())}))))})),a=a.concat(d),i=a[a.length-1].transaction.signatures[0],e.next=5;break;case 23:return e.abrupt("return",a.slice(0,o));case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fe=function(e){var t,n,r=e.transaction.message.instructions.findIndex((function(e){return e.programId.toBase58()===se})),a=null===(t=e.meta)||void 0===t||null===(n=t.innerInstructions)||void 0===n?void 0:n.find((function(e){return e.index===r}));if(a){var o=a.instructions.filter((function(e){return"transfer"===e.parsed.type})),i=Object(v.a)(o,2),c=i[0].parsed,u=i[1].parsed;return{signature:e.transaction.signatures[0],platform:"Serum",type:"Swap",date:e.blockTime?new Date(1e3*e.blockTime):null,fromDestination:c.info.destination,fromAmount:c.info.amount,toDestination:u.info.destination,toAmount:u.info.amount}}throw new Error("Missing instruction data for Serum swap")},me=function(e){var t,n,r=(null!==(t=null===(n=e.meta)||void 0===n?void 0:n.innerInstructions)&&void 0!==t?t:[]).flatMap((function(e){return e.instructions})).filter((function(e){return"transfer"===e.parsed.type})),a=r[0],o=r[r.length-1];if(a){var i=a.parsed,c=o.parsed;return{signature:e.transaction.signatures[0],platform:"Orca",type:"Swap",date:e.blockTime?new Date(1e3*e.blockTime):null,fromDestination:i.info.destination,fromAmount:i.info.amount,toDestination:c.info.destination,toAmount:c.info.amount}}throw new Error("Missing instruction data for Orca swap")},pe=new Intl.DateTimeFormat(void 0,{month:"short",day:"2-digit",hour:"numeric",minute:"2-digit"}),be=function(){var e=Object(p.a)(m.a.mark((function e(t,n,r){var a,o,i,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(t,n,{programIds:le,limit:20,before:r});case 2:return a=e.sent,o=a.map((function(e){var t,n,r=Object(oe.a)(e.transaction.message.instructions);try{for(r.s();!(n=r.n()).done;){var a=n.value.programId.toBase58();if(a===se){t=fe(e);break}if("DjVE6JNiYqPL2QXyCUUh8rNjHrbz9hXHNYt99MQ59qw1"===a){t=me(e);break}}}catch(o){r.e(o)}finally{r.f()}if(!t)throw new Error("Unable to parse transaction data");return Object(w.a)(Object(w.a)({},t),{},{key:t.signature})})),i=new Set(o.flatMap((function(e){return[e.fromDestination,e.toDestination]}))),e.next=7,Object(d.e)(t,Array.from(i),"confirmed");case 7:return(c=e.sent).keys.forEach((function(e,t){var n=c.array[t];n&&d.d.add(new E.d(e),n,d.c)})),e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ve=function(){var e=Object(s.b)().wallet,t=null===e||void 0===e?void 0:e.publicKey,n=Object(l.c)(),o=Object(l.d)().tokenMap,i=Object(r.useState)([]),c=Object(v.a)(i,2),u=c[0],f=c[1],m=Object(r.useState)(0),p=Object(v.a)(m,2),b=p[0],h=p[1],O=Object(r.useState)(!1),g=Object(v.a)(O,2),E=g[0],y=g[1];Object(r.useEffect)((function(){t&&(y(!0),be(n,t).then((function(e){f(e),h(0),y(!1)})))}),[t,n]);var w=function(){h((function(e){return e-20}))},A=function(){var e=b+20,r=e-1;if(20===u.slice(e,e+20).length)return h(e);t&&(y(!0),be(n,t,u[r].signature).then((function(t){f((function(n){return h(e),n.concat(t)})),y(!1)})))},T=[{title:"Platform",dataIndex:"platform",key:"platform"},{title:"Type",dataIndex:"type",key:"type"},{title:"Date",dataIndex:"date",key:"date",render:function(e,t){var n="Unknown";return t.date&&(n=pe.format(t.date)),a.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://www.solanabeach.io/transaction/".concat(t.signature)},n)}},{title:"Asset",key:"asset",render:function(e,t){var n,r,i,c,u=t.toDestination,s=t.fromDestination,l=null===(n=d.d.get(s))||void 0===n||null===(r=n.info)||void 0===r?void 0:r.mint,f=null===(i=d.d.get(u))||void 0===i||null===(c=i.info)||void 0===c?void 0:c.mint;if(l&&f){var m=o.get(l.toBase58()),p=o.get(f.toBase58());return a.a.createElement("div",{style:{display:"inline-flex",alignItems:"center"}},a.a.createElement(ae,{mintA:l.toBase58(),mintB:f.toBase58()}),null===m||void 0===m?void 0:m.symbol," - ",null===p||void 0===p?void 0:p.symbol)}return null}},{title:"Amount",key:"amount",render:function(e,t){var n,r,i,c,u=t.toDestination,s=t.fromDestination,l=t.toAmount,f=t.fromAmount,m=null===(n=d.d.get(s))||void 0===n||null===(r=n.info)||void 0===r?void 0:r.mint,p=null===(i=d.d.get(u))||void 0===i||null===(c=i.info)||void 0===c?void 0:c.mint;if(!m||!p)return null;var b=o.get(m.toBase58()),v=o.get(p.toBase58());if(b&&v){var h=parseFloat(f)*Math.pow(10,-b.decimals),O=parseFloat(l)*Math.pow(10,-v.decimals);return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{style:{color:"#80330f"}},"-".concat(h))," / ",a.a.createElement("span",{style:{color:"#148f6d"}},"+".concat(O)))}}}];return a.a.createElement(ue.a,{dataSource:u.slice(b,b+20),columns:T,pagination:!1,loading:E,footer:function(){if(u.length>0)return a.a.createElement("div",{style:{textAlign:"right"}},a.a.createElement(x.a,{icon:a.a.createElement(ie.a,null),disabled:0===b,onClick:w})," ",a.a.createElement(x.a,{icon:a.a.createElement(ce.a,null),onClick:A,disabled:0===b&&u.length<20}))}})},he=n(111),Oe=function(){var e=N(),t=e.marketEmitter,n=e.midPriceInUSD,o=Object(l.d)().tokenMap,i="SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt",u="StepAscQoEioFxxWGnh2sLBDFp9d8rvKz2Yp39iDpyT",s=j(i),f=j(u),m=j(he.a),p=function(){var e=Object(I.a)().userAccounts,t=Object(r.useState)(0),n=Object(v.a)(t,2),a=n[0],o=n[1],i=N(),c=i.marketEmitter,u=i.midPriceInUSD;return Object(r.useEffect)((function(){var t=function(){for(var t=0,n=0;n<e.length;n++){var r=e[n],a=r.info.mint.toBase58(),i=d.d.get(a);if(i)t+=Object(O.e)(r.info.amount.toNumber(),i.info)*u(a)}o(t)},n=c.onMarket((function(e){t()}));return t(),function(){n()}}),[e,c,u,o]),{balanceInUSD:a,accounts:e,hasBalance:e.length>0&&a>0}}().balanceInUSD;return Object(r.useEffect)((function(){var e=t.onMarket((function(){}));return function(){e()}}),[t,n,o]),a.a.createElement(te.a,{gutter:[16,16],align:"middle"},a.a.createElement(ne.a,{span:24},a.a.createElement("h2",null,"Your balances (",O.d.format(p),"):"),a.a.createElement("h2",null,"SOL: ",m.balance," (",O.d.format(m.balanceInUSD),")"),a.a.createElement("h2",{style:{display:"inline-flex",alignItems:"center"}},a.a.createElement(re,{mintAddress:i})," SRM: ",s.balance," (",O.d.format(null===s||void 0===s?void 0:s.balanceInUSD),")"),a.a.createElement("br",null),a.a.createElement("h2",{style:{display:"inline-flex",alignItems:"center"}},a.a.createElement(re,{mintAddress:u})," STEP: ",f.balance," (",O.d.format(null===s||void 0===s?void 0:s.balanceInUSD),")"),a.a.createElement("br",null),a.a.createElement(ve,null)),a.a.createElement(ne.a,{span:12},a.a.createElement(J,null)),a.a.createElement(ne.a,{span:12},a.a.createElement(c.b,{to:"/faucet"},a.a.createElement(x.a,null,"Faucet"))),a.a.createElement(ne.a,{span:24},a.a.createElement("div",{className:"builton"})))},ge=n(89),Ee=function(){var e=Object(l.c)(),t=Object(s.b)().publicKey,n=Object(r.useCallback)((function(){t&&e.requestAirdrop(t,2*E.c).then((function(){Object(ge.a)({message:M.a.ACCOUNT_FUNDED,type:"success"})}))}),[t,e]);return a.a.createElement("div",{className:"flexColumn",style:{flex:1}},a.a.createElement("div",null,a.a.createElement("div",{className:"deposit-input-title",style:{margin:10}},M.a.FAUCET_INFO),a.a.createElement(J,{type:"primary",onClick:n},M.a.GIVE_SOL)))};function ye(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(c.a,{basename:"/"},a.a.createElement(l.a,null,a.a.createElement(s.a,null,a.a.createElement(d.a,null,a.a.createElement(L,null,a.a.createElement(ee,null,a.a.createElement(u.c,null,a.a.createElement(u.a,{exact:!0,path:"/",component:function(){return a.a.createElement(Oe,null)}}),a.a.createElement(u.a,{exact:!0,path:"/faucet",children:a.a.createElement(Ee,null)})))))))))}var we=function(){return a.a.createElement(ye,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(we,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return B}));var r=n(27),a=n(297),o=n(609),i=n(82),c=n(0),u=n.n(c),s=n(89),l=n(52),d=n(48),f=n(2),m=n.n(f),p=n(9),b=n(22),v=n(32),h=n(59),O=n(61),g=n(78),E=n.n(g),y=n(309),w=n(247),A=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.call(this))._connecting=void 0,e._publicKey=void 0,e._transport=void 0,e._connecting=!1,e._publicKey=null,e._transport=null,e}return Object(v.a)(n,[{key:"signTransaction",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._transport&&this._publicKey){e.next=2;break}throw new Error("Not connected to Ledger");case 2:return e.next=4,Object(w.b)(this._transport,t);case 4:return n=e.sent,t.addSignature(this._publicKey,n),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._connecting){e.next=2;break}return e.abrupt("return");case 2:return this._connecting=!0,e.prev=3,e.next=6,y.a.create();case 6:return this._transport=e.sent,e.next=9,Object(w.a)(this._transport);case 9:this._publicKey=e.sent,this.emit("connect",this._publicKey),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(3),Object(s.a)({message:"Ledger Error",description:e.t0.message}),e.next=18,this.disconnect();case 18:return e.prev=18,this._connecting=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[3,13,18,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,!this._transport){e.next=6;break}return e.next=4,this._transport.close();case 4:this._transport=null,t=!0;case 6:this._connecting=!1,this._publicKey=null,t&&this.emit("disconnect");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publicKey",get:function(){return this._publicKey}}]),n}(E.a),T=n(67),_=n(12),I=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.call(this))._publicKey=void 0,e._onProcess=void 0,e._publicKey=null,e._onProcess=!1,e.connect=e.connect.bind(Object(T.a)(e)),e}return Object(v.a)(n,[{key:"signTransaction",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.solong.signTransaction(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=this;this._onProcess||(void 0!==window.solong?(this._onProcess=!0,window.solong.selectAccount().then((function(t){e._publicKey=new _.d(t),e.emit("connect",e._publicKey)})).catch((function(){e.disconnect()})).finally((function(){e._onProcess=!1}))):Object(s.a)({message:"Solong Error",description:"Please install solong wallet from Chrome "}))}},{key:"disconnect",value:function(){this._publicKey&&(this._publicKey=null,this.emit("disconnect"))}},{key:"publicKey",get:function(){return this._publicKey}}]),n}(E.a),j=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.call(this))._publicAddress=void 0,e._publicKey=void 0,e._onProcess=void 0,e._publicAddress="5te3JNS256J1rCP1Fh3tJ1tSrkT4mgFpf5buZsafk5pX",e._publicKey=null,e._onProcess=!1,e.connect=e.connect.bind(Object(T.a)(e)),e}return Object(v.a)(n,[{key:"signTransaction",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject("Mock wallet for visualization only"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){this._publicKey=new _.d(this._publicAddress),this._onProcess||(this._onProcess=!0,this.emit("connect",this._publicKey),this._onProcess=!1)}},{key:"disconnect",value:function(){this._publicKey&&(this._publicKey=null,this.emit("disconnect"))}},{key:"publicKey",get:function(){return this._publicKey}}]),n}(E.a),k="https://raw.githubusercontent.com/solana-labs/oyster/main/assets/wallets/",S=[{name:"Mock Wallet",url:"https://www.edward.test",icon:"".concat(k,"sollet.svg"),adapter:j},{name:"Sollet",url:"https://www.sollet.io",icon:"".concat(k,"sollet.svg")},{name:"Solong",url:"https://solongwallet.com",icon:"".concat(k,"solong.png"),adapter:I},{name:"Solflare",url:"https://solflare.com/access-wallet",icon:"".concat(k,"solflare.svg")},{name:"MathWallet",url:"https://mathwallet.org",icon:"".concat(k,"mathwallet.svg")},{name:"Ledger",url:"https://www.ledger.com",icon:"".concat(k,"ledger.svg"),adapter:A}],L=u.a.createContext({wallet:void 0,connected:!1,select:function(){},provider:void 0});function N(e){var t=e.children,n=void 0===t?null:t,f=Object(l.d)().endpoint,m=Object(c.useState)(!1),p=Object(r.a)(m,2),b=p[0],v=p[1],h=Object(d.i)("walletProvider"),O=Object(r.a)(h,2),g=O[0],E=O[1],y=Object(c.useMemo)((function(){return S.find((function(e){return e.url===g}))}),[g]),w=Object(c.useMemo)((function(){if(y)return new(y.adapter||a.a)(g,f)}),[y,g,f]),A=Object(c.useState)(!1),T=Object(r.a)(A,2),_=T[0],I=T[1];Object(c.useEffect)((function(){return w&&(w.on("connect",(function(){if(w.publicKey){I(!0);var e=w.publicKey.toBase58(),t=e.length>20?"".concat(e.substring(0,7),".....").concat(e.substring(e.length-7,e.length)):e;Object(s.a)({message:"Wallet update",description:"Connected to wallet "+t})}})),w.on("disconnect",(function(){I(!1),Object(s.a)({message:"Wallet update",description:"Disconnected from wallet"})}))),function(){I(!1),w&&w.disconnect()}}),[w]),Object(c.useEffect)((function(){return w&&b&&(w.connect(),v(!1)),function(){}}),[w,b]);var j=Object(c.useState)(!1),k=Object(r.a)(j,2),N=k[0],B=k[1],C=Object(c.useCallback)((function(){return B(!0)}),[]),D=Object(c.useCallback)((function(){return B(!1)}),[]);return u.a.createElement(L.Provider,{value:{wallet:w,connected:_,select:C,provider:y}},n,u.a.createElement(o.a,{title:"Select Wallet",okText:"Connect",visible:N,okButtonProps:{style:{display:"none"}},onCancel:D,width:400},S.map((function(e){return u.a.createElement(i.a,{key:e.name,size:"large",type:g===e.url?"primary":"ghost",onClick:function(){E(e.url),v(!0),D()},icon:u.a.createElement("img",{alt:"".concat(e.name),width:20,height:20,src:e.icon,style:{marginRight:8}}),style:{display:"block",width:"100%",textAlign:"left",marginBottom:8}},e.name)}))))}function B(){var e=Object(c.useContext)(L),t=e.wallet,n=e.connected,r=e.provider,a=e.select;return{wallet:t,connected:n,provider:r,select:a,publicKey:null===t||void 0===t?void 0:t.publicKey,connect:function(){t?t.connect():a()},disconnect:function(){null===t||void 0===t||t.disconnect()}}}},68:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var r={CONNECT_LABEL:"Connect",BORROWING_POWER_USED:"Borrowing Power Used",BORROWING_POWER_VALUE:"Borrowing Power",BORROWED_VALUE:"You borrowed",GIVE_SOL:"Give me SOL",LIQUIDATION_INFO:"This view displays all loans that can be liquidated. A liquidation is a process where borrower collateral does not cover value of the loan. It is represented by health factor falling below 1.0. When a loan is liquidated, an liquidator can purchase collateral at a discount by repaing the portio of the loan. ",FAUCET_INFO:"This faucet will help you fund your accounts outside of Solana main network.",ACCOUNT_FUNDED:"Account funded.",REPAY_QUESTION:"How much would you like to repay?",REPAY_ACTION:"Repay",RESERVE_STATUS_TITLE:"Reserve Status & Configuration",AUDIT_WARNING:"Oyster is an unaudited software project used for internal purposes at the Solana Foundation. This app is not for public use.",FOOTER:'This page was produced by the Solana Foundation ("SF") for internal educational and inspiration purposes only. SF does not encourage, induce or sanction the deployment, integration or use of Oyster or any similar application (including its code) in violation of applicable laws or regulations and hereby prohibits any such deployment, integration or use. Anyone using this code or a derivation thereof must comply with applicable laws and regulations when releasing related software.',MENU_HOME:"Home",MENU_DASHBOARD:"Dashboard",DASHBOARD_INFO:"Connect to a wallet to view your deposits/loans.",TRANSACTIONS_INFO:"Connect to a wallet to view your transactions.",NO_LOANS_NO_DEPOSITS:"No loans or deposits.",MENU_DEPOSIT:"Deposit",DEPOSITS:"Deposits",BORROWS:"Borrows",LOAN_TO_VALUE:"Loan to value",MENU_BORROW:"Borrow",MENU_LIQUIDATE:"Liquidate",MENU_FAUCET:"Faucet",MENU_TRANSACTION:"Transactions",MARGIN_TRADING:"Margin Trading",APP_TITLE:"Oyster Lending",CONNECT_BUTTON:"Connect",WALLET_TOOLTIP:"Wallet public key",WALLET_BALANCE:"Wallet balance",SETTINGS_TOOLTIP:"Settings",SELECT_COLLATERAL:"Select collateral",COLLATERAL:"Collateral",BORROW_QUESTION:"How much would you like to borrow?",BORROW_ACTION:"Borrow",NO_COLLATERAL:"No collateral",NO_DEPOSITS:"No deposits",NO_LOANS:"No loans",NOTHING_BORROWED:"Nothing borrowed yet",NOTHING_BORROWED_MESSAGE:"There will be a list of all the assets you have borrowed. For now, it's empty since you have not borrowed.",BORROW_NOW:"Borrow now",LIQUIDATE_QUESTION:"How much would you like to liquidate?",LIQUIDATE_ACTION:"Liquidate",LIQUIDATE_NO_LOANS:"There are no loans to liquidate.",TABLE_TITLE_ASSET:"Asset",TABLE_TITLE_YOUR_LOAN_BALANCE:"Loan balance",TABLE_TITLE_LOAN_BALANCE:"Loan balance",TABLE_TITLE_COLLATERAL_BALANCE:"Collateral",TABLE_TITLE_DEPOSIT_BALANCE:"Your deposits",TABLE_TITLE_APY:"APY",TABLE_TITLE_LTV:"LTV",TABLE_TITLE_HEALTH:"Health Factor",TABLE_TITLE_BORROW_APY:"Borrow APY",TABLE_TITLE_DEPOSIT_APY:"Deposit APY",TABLE_TITLE_TOTAL_BORROWED:"Total Borrowed",TABLE_TITLE_MARKET_SIZE:"Market Size",TABLE_TITLE_ACTION:"Action",TABLE_TITLE_DEPOSITS:"Deposits",TABLE_TITLE_WITHDRAWS:"Withdraws",TABLE_TITLE_BORROWS:"Borrows",TABLE_TITLE_REPAY_OBLIGATIONS:"Repay Obligations",TABLE_TITLE_LIQUIDATE_OBLIGATIONS:"Liquidate Obligations",MAX_LTV:"Maximum LTV",LIQUIDATION_THRESHOLD:"Liquidation threshold",LIQUIDATION_PENALTY:"Liquidation penalty",TABLE_TITLE_MAX_BORROW:"Available for you",DASHBOARD_TITLE_LOANS:"Loans",DASHBOARD_TITLE_DEPOSITS:"Deposits",DEPOSIT_QUESTION:"How much would you like to deposit?",WITHDRAW_ACTION:"Withdraw",WITHDRAW_QUESTION:"How much would you like to withdraw?",DASHBOARD_ACTION:"Go to dashboard",GO_BACK_ACTION:"Go back",DEPOSIT_ACTION:"Deposit",TOTAL_TITLE:"Total",TRADING_TABLE_TITLE_MY_COLLATERAL:"Chosen Collateral",TRADING_TABLE_TITLE_DESIRED_ASSET:"Desired Asset",TRADING_TABLE_TITLE_MULTIPLIER:"Leverage",TRADING_TABLE_TITLE_ASSET_PRICE:"Asset Price",TRADING_TABLE_TITLE_LIQUIDATION_PRICE:"Liquidation Price",TRADING_TABLE_TITLE_APY:"APY",TRADING_TABLE_TITLE_ACTIONS:"Action",TRADING_ADD_POSITION:"Add Position",MARGIN_TRADE_ACTION:"Margin Trade",MARGIN_TRADE_CHOOSE_COLLATERAL_AND_LEVERAGE:"Please choose your collateral and leverage.",MARGIN_TRADE_QUESTION:"Please choose how much of this asset you wish to purchase.",TABLE_TITLE_BUYING_POWER:"Total Buying Power",NOT_ENOUGH_MARGIN_MESSAGE:"Not enough buying power in oyster to make this trade at this leverage.",SET_MORE_MARGIN_MESSAGE:"You need more margin to match this leverage amount to make this trade.",LEVERAGE_LIMIT_MESSAGE:"You will need more margin to make this trade.",NO_DEPOSIT_MESSAGE:"You need to deposit coin of this type into oyster before trading with it on margin.",NO_COLL_TYPE_MESSAGE:"Choose Collateral CCY",SAFER:"Safer",RISKIER:"Riskier"},a=n(60),o=n.n(a),i=new o.a(10),c=(i.pow(new o.a(18)),i.pow(new o.a(18))),u=(i.pow(new o.a(27)),new o.a(0))},89:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n.n(r),o=n(252);function i(e){var t=e.message,n=void 0===t?"":t,r=e.description,i=void 0===r?void 0:r,c=e.txid,u=void 0===c?"":c,s=e.type,l=void 0===s?"info":s,d=e.placement,f=void 0===d?"bottomLeft":d;u&&(i=a.a.createElement(a.a.Fragment,null)),o.a[l]({message:a.a.createElement("span",{style:{color:"black"}},n),description:a.a.createElement("span",{style:{color:"black",opacity:.5}},i),placement:f,style:{backgroundColor:"white"}})}},94:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(28);function a(){return{userAccounts:Object(r.f)().userAccounts}}}},[[340,1,2]]]);